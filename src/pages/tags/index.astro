---
import { getCollection } from 'astro:content';
import Footer from '~/components/Footer.astro';
import Header from '~/components/Header.astro';
import TagWithIcon from '~/components/TagWithIcon.astro';
import Layout from '~/layouts/Layout.astro';
import Main from '~/layouts/Main.astro';
import { site } from '~/utils/config';
import getTags from '~/utils/getTags';

const posts = await getCollection('blogs');

const tags = await getTags(posts);
---

<Layout title={`Tags | ${site.title}`}>
  <Header activeNav="tags" />
  <Main
    pageTitle="Tags"
    pageDesc="What tags have been used so far."
    screenReaderOnly
  >
    <ul class="mt-6 grid grid-cols-2 gap-6 md:grid-cols-3 lg:grid-cols-5">
      {tags.map((tag) => <TagWithIcon {tag} />)}
    </ul>
  </Main>
  <Footer />
</Layout>
